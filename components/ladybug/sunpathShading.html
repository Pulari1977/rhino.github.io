<!DOCTYPE html>
<html lang="en" xmlns:og="http://ogp.me/ns#">
<head data-layout-view="wide">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Sunpath Shading - Grasshopper Component Reference</title>
<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="SHORTCUT ICON" href="/favicon.ico" type="image/x-icon" />

<meta name="description" content="A guide to component Sunpath Shading in Grasshopper 3D." />
<meta name="title" content="Grasshopper Component Reference" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://rhino.github.io/" />
<meta property="og:title" content="Sunpath Shading - Grasshopper Component Reference" />

<meta property="wiki-page" content="GH Ladybug Sunpath_Shading.md" />

<link rel="image_src" href="http://rhino.github.io/ning/2985220.jpg" />

<style type="text/css" media="screen,projection">
#xg_navigation ul div.xg_subtab ul li a {
    color:#666666;
    background:#EAFFBD;
}
#xg_navigation ul div.xg_subtab ul li a:hover {
    color:#333333;
    background:#F2FFD6;
}
</style>

<style type="text/css" media="screen,projection">
@import url(../../ning/index.css);
@import url(../../ning/page.css);
</style>

<style type="text/css" media="screen,projection">
@import url(../../ning/1187549422.css);
</style>

<style type="text/css" media="screen,projection">
@import url(../../ning/1187545030.css);
</style>


<link href="../../style.css" rel="stylesheet" type="text/css" />
<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

    </head>
    <body>
    
        
        <div id="xg" class="xg_theme xg_widget_page xg_widget_page_page xg_widget_page_page_show" data-layout-pack="classic">
            <div id="xg_head">
                <div id="xg_masthead">
                    <p id="xg_sitename"><a id="application_name_header_link" href="http://www.grasshopper3d.com/">Grasshopper</a></p>
                    <p id="xg_sitedesc" class="xj_site_desc">algorithmic modeling for Rhino</p>
                </div>
                <div id="xg_navigation">
                    <ul>
    <li id="xg_tab_main" class="xg_subtab"><a href="http://www.grasshopper3d.com/"><span>Home</span></a></li>
	<li id="xg_tab_photo" class="xg_subtab"><a href="http://www.grasshopper3d.com/photo"><span>View</span></a></li>
	<li id="xg_tab_xn0" class="xg_subtab"><a href="http://www.grasshopper3d.com/page/download-1"><span>Get</span></a></li>
	<li id="xg_tab_xn2" class="xg_subtab this"><a href="http://www.grasshopper3d.com/page/tutorials-1"><span>Learn</span></a></li>
	<li id="xg_tab_forum" class="xg_subtab"><a href="http://www.grasshopper3d.com/forum"><span>Talk</span></a></li>
	<li id="xg_tab_events" class="xg_subtab"><a href="http://www.grasshopper3d.com/events"><span>Events</span></a></li>
	<li id="xg_tab_profile" class="xg_subtab"><a href="http://www.grasshopper3d.com/"><span>My Page</span></a></li></ul>

                </div>
            </div>
            
            <div id="xg_body">
                
				<div class="page">

<div class="content">

<div>
<h1><img src="../../icons/Ladybug/Sunpath_Shading.png"/> Sunpath Shading</h1>
<p><a href="../../index.html">Component Index</a> &gt; Ladybug > 3 | EnvironmentalAnalysis > <b>Sunpath Shading</b></p>
</div>
<h3>This component calculates the shading of:<br>- Photovoltaic modules<br>- Solar Water Heating collectors<br>- any other purpose (shading of points)<br>Use "annualShading", "Sep21toMar21Shading" and "Mar21toSep21Shading" outputs for Photovoltaic modules shading. <br>Use "beamIndexPerHour" and "skyViewFactor" outputs for Solar Water Heating collectors shading, or any other purpose.<br>"annualShading" output is based on "Using sun path charts to estimate the effects of shading on PV arrays", University of Oregon, Frank Vignola:<br>http://solardat.uoregon.edu/download/Papers/UsingSunPathChartstoEstimatetheEffectofShadingonPVArrays.pdf<br></h3>
<h2>Inputs</h2>
<table>
<thead>
<tr><th>Name</th><th>ID</th><th>Description</th><th>Type</th></tr>
</thead>
<tbody>
<tr><td><b>_epwFile</b></td><td>_epwFile</td><td>Input .epw file path by using the "File Path" parameter, or Ladybug's "Open EPW And STAT Weather Files" component.</td><td>Goo</td></tr>
<tr><td><b>_analysisGeometry</b></td><td>_analysisGeometry</td><td>Input surface(a) or point(b) (a single one or more of them).
-
a) Input planar Surface (not polysurface) on which the PV modules/Solar water heating collectors will be applied.
If you have a polysurface, explode it (using "Deconstruct Brep" component) and then feed its Faces(F) output to _analysisGeometry. Surface normal should be faced towards the sun.
-
b) You can also supply point(s) and its shading will be calculated.
-
Geometry inputted to "_analysisGeometry", will be accounted for self-shading, so there is no need to input it to the "context_" also.</td><td>Goo</td></tr>
<tr><td><b>context_</b></td><td>context_</td><td>Buildings, structures, mountains and other permanent obstructions.
-
If you supplied surface(s) to the "_analysisGeometry", input them into the "context_" too, to account for self-shading.
If you inputted point(s) into the "_analysisGeometry", there's no need to input them into the "context_".
-
Input polysurfaces, surfaces, or meshes.</td><td>Goo</td></tr>
<tr><td><b>coniferousTrees_</b></td><td>coniferousTrees_</td><td>This input allows for partial shading from coniferous(evergreen) context trees.
-
Input polysurfaces, surfaces, or meshes.</td><td>Goo</td></tr>
<tr><td><b>deciduousTrees_</b></td><td>deciduousTrees_</td><td>This input allows for partial shading during in-leaf and leaf-less periods from deciduous context trees.
In-leaf being a period from 21st March to 21st September in the northern hemisphere, and from 21st September to 21st March in the southern hemisphere.
Leaf-less being a period from 21st September to 21st March in the northern hemisphere, and from 21st March to 21st September in the in the southern hemisphere.
-
Input polysurfaces, surfaces, or meshes.</td><td>Goo</td></tr>
<tr><td><b>coniferousAllyearIndex_</b></td><td>coniferousAllyearIndex_</td><td>All year round transmission index for coniferous(evergreen) context trees. It ranges from 0 to 1.0. 0 represents deciduous trees which do not allow solar radiation to pass through them (100% shading). 1 represents all solar radiation passing through deciduous trees, like the trees do not exist (0% shading).
-
If not supplied default value of 0.30 (equals 70% shading) will be used.
-
Unitless.</td><td>Goo</td></tr>
<tr><td><b>deciduousInleafIndex_</b></td><td>deciduousInleafIndex_</td><td>Deciduous context trees transmission index for in-leaf period. In-leaf being a period from 21st March to 21st September in the northern hemisphere, and from 21st September to 21st March in the southern hemisphere.
It ranges from 0 to 1.0. 0 represents deciduous trees which do not allow solar radiation to pass through them (100% shading). 1 represents all solar radiation passing through deciduous trees, like the trees do not exist (0% shading).
-
If not supplied default value of 0.23 (equals 77% shading) will be used.
-
Unitless.</td><td>Goo</td></tr>
<tr><td><b>deciduousLeaflessIndex_</b></td><td>deciduousLeaflessIndex_</td><td>Deciduous context trees transmission index for leaf-less period. Leaf-less being a period from 21st September to 21st March in the northern hemisphere, and from 21st March to 21st September in the in the southern hemisphere.
It ranges from 0 to 1.0. 0 represents deciduous trees which do not allow solar radiation to pass through them (100% shading). 1 represents all solar radiation passing through deciduous trees, like the trees do not exist (0% shading).
-
If not supplied default value of 0.64 (equals 36% shading) will be used.
-
Unitless.</td><td>Goo</td></tr>
<tr><td><b>leaflessPeriod_</b></td><td>leaflessPeriod_</td><td>Define the leafless period for deciduous trees using Ladybug's "Analysis Period" component.
IMPORTANT! This input affects only the skyViewFactor, beamIndexPerHour, shadedSolarRadiationPerHour output. Due to limitations of the used sunpath diagram, it does not affect the Sep21toMar21Shading, Mar21toSep21Shading, annualShading outputs, where default leafless periods (see the line bellow) will always be used.
-
If not supplied the following default periods will be used: from 21st September to 21st March in the northern hemisphere, and from 21st March to 21st September in the in the southern hemisphere.</td><td>Goo</td></tr>
<tr><td><b>ACenergyPerHour_</b></td><td>ACenergyPerHour_</td><td>This input is necessaty only if you are calculating the shading of the PV modules. If that is so, input the "ACenergyPerHour" output data from "Photovoltaics surface" component.
-
If you are calculating shading analysis for "Solar water heating surface" component (instead of "Photovoltaics surface" component), leave this input empty.
-
If you are calculating shading analysis for any other purpose (of point(s) for example) leave this input empty too.</td><td>Goo</td></tr>
<tr><td><b>north_</b></td><td>north_</td><td>Input a vector to be used as a true North direction, or a number between 0 and 360 that represents the clockwise degrees off from the Y-axis.
-
If not supplied, default North direction will be set to the Y-axis (0 degrees).</td><td>Goo</td></tr>
<tr><td><b>albedo_</b></td><td>albedo_</td><td>A list of 8767 (with header) or 8760 (without the header) albedo values for each hour during a year.
Albedo (or Reflection coefficient) is an average ratio of the global incident solar radiation reflected from the area surrounding the _analysisGeometry.
It ranges from 0 to 1.
-
It depends on the time of the year/day, surface type, temperature, vegetation, presence of water, ice and snow etc.
-
If no list supplied, default value of 0.20 will be used, corrected(increased) for the presence of snow (if any).
-
Unitless.</td><td>Goo</td></tr>
<tr><td><b>___________________</b></td><td>___________________</td><td>Script variable PhotovoltaicsShading</td><td>Goo</td></tr>
<tr><td><b>outputGeometryIndex_</b></td><td>outputGeometryIndex_</td><td>An index of the surface inputted into "_analysisGeometry" if "_analysisGeometry" would be flattened..
It determines the surface for which output geometry will be generated.
-
If not supplied, geometry for the first surface (index: 0) will be generated as a default.</td><td>Goo</td></tr>
<tr><td><b>scale_</b></td><td>scale_</td><td>Scale of the overall geometry (sunPath curves, sunWindow mesh).
Use the scale number which enables encompassing all of your context_, coniferousTrees_, deciduousTrees_ objects.
-
If not supplied, default value of 1 will be used.</td><td>Goo</td></tr>
<tr><td><b>hoursPositionScale_</b></td><td>hoursPositionScale_</td><td>Scale factor for positioning of solar time hour points (that's "hoursPositions" output).
-
If not supplied, default value of 1 will be used.</td><td>Goo</td></tr>
<tr><td><b>precision_</b></td><td>precision_</td><td>Overall shading precision. Ranges from 1-100. It represents the square root number of shading analysis points per sun window quadrant.
Example - precision of 20 would be 400 shading analysis points per single sun window quadrant.
CAUTION!!! Higher precision numbers (50 >) require stronger performance PCs. If your "_context" contains only straight shape buildings/objects, and you have just a couple of trees supplied to the "coniferousTrees_" and "deciduousTrees_" inputs, the precision of < 50 will be just fine.
-
If not supplied, default value of 2 will be used.</td><td>Goo</td></tr>
<tr><td><b>legendPar_</b></td><td>legendPar_</td><td>Optional legend parameters from the Ladybug "Legend Parameters" component.</td><td>Goo</td></tr>
<tr><td><b>___________________</b></td><td>___________________</td><td>Script input _________________.</td><td>Goo</td></tr>
<tr><td><b>bakeIt_</b></td><td>bakeIt_</td><td>Set to "True" to bake the Sunpath shading results into the Rhino scene.
-
If not supplied default value "False" will be used.</td><td>Goo</td></tr>
<tr><td><b>_runIt</b></td><td>_runIt</td><td>...</td><td>Goo</td></tr>
</tbody>
</table>

<h2>Outputs</h2>
<table>
<thead>
<tr><th>Name</th><th>ID</th><th>Description</th><th>Type</th></tr>
</thead>
<tbody>
<tr><td><b>out</b></td><td>readMe!</td><td>...</td><td>String</td></tr>
<tr><td><b>skyViewFactor</b></td><td>skyViewFactor</td><td>Continuous Sky View Factor - portion of the visible sky (dome). It defines the shading of the parts of diffuse irradiance. It ranges from 0 to 1.
0 means that the sky dome is competely obstructed by obstacles and all incoming diffuse sky irradiance is blocked (100% shading). 1 means that sky dome is competely free of obstacles (0% shading).
-
This output is similar to "skyView" output of Ladybug's "Shading Mask" component. Unlike "skyView" it takes into account transparency of trees. But it does not visually present the shading, which is what "Shading Mask" component does.
-
Use it as an input for Ladybug "Solar Water Heating System" or "Solar Water Heating System Detailed" component's "skyViewFactor_" input to account for diffuse irradiance shading of SWHsurface.
-
Unitless.</td><td>Goo</td></tr>
<tr><td><b>beamIndexPerHour</b></td><td>beamIndexPerHour</td><td>Transmission index of beam (direct) irradiance for each hour during a year. It ranges from 0-1.
Transmission index of 0 means 100% shading. Transmission index of 1 means 0% shading.
It is calculated for each analysisGeometry vertex and then averaged.
-
Use it as an input for Ladybug "Solar Water Heating System" or "Solar Water Heating System Detailed" component's "beamIndexPerHour_" input to account for diffuse direct beam shading of SWH surface.
-
Unitless.</td><td>Goo</td></tr>
<tr><td><b>shadedSolarRadiationPerHour</b></td><td>shadedSolarRadiationPerHour</td><td>Total shaded incidence for each hour during a year.
-
In kW/m2.</td><td>Goo</td></tr>
<tr><td><b>_______________________</b></td><td>_______________________</td><td>Annual unweighted shading of the active sun window quadrants. Active sun window quadrants are only those which produce AC energy (or solar radiation in case you are using this component for other purposes than Photovoltaics)
Unweighted means that each active sun window quadrant produces the same percentage of AC power. It is calculated for each PVsurface vertex and then averaged. It ranges from 0-100(%).
-
In percent(%).</td><td>Goo</td></tr>
<tr><td><b>Sep21toMar21Shading</b></td><td>Sep21toMar21Shading</td><td>Weighted shading of the active sun window quadrants, for period between 21st September to 21st March. Active sun window quadrants are only those which produce AC energy.
It is calculated for each analysisGeometry vertex and then averaged. It ranges from 0-100(%).
-
In percent(%).</td><td>Goo</td></tr>
<tr><td><b>Mar21toSep21Shading</b></td><td>Mar21toSep21Shading</td><td>Weighted shading of the active sun window quadrants, for period between 21st March to 21st September. Active sun window quadrants are only those which produce AC energy.
It is calculated for each analysisGeometry vertex and then averaged. It ranges from 0-100(%).
-
In percent(%).</td><td>Goo</td></tr>
<tr><td><b>annualShading</b></td><td>annualShading</td><td>Annual weighted shading of the active sun window quadrants. To calculate it, input the hourly data to "ACenergyPerHour_" input.
Active sun window quadrants are only those which produce AC energy.
It is calculated for each analysisGeometry vertex and then averaged. It ranges from 0-100(%).
-
Use it as an input for Ladybug "DC to AC derate factor" component's "annualShading_" input to account for shading of PVsurface.
-
In percent(%).</td><td>Goo</td></tr>
<tr><td><b>_______________________</b></td><td>_______________________</td><td>Script variable PhotovoltaicsShading</td><td>Goo</td></tr>
<tr><td><b>annalysisPts</b></td><td>annalysisPts</td><td>Each vertex of the inputted _analysisGeometry for which a separate shading analysis was conducted.
-
Connect this output to a Grasshopper's "Point" parameter in order to preview the "annalysisPts" geometry in the Rhino scene.</td><td>Goo</td></tr>
<tr><td><b>sunWindowCenPt</b></td><td>sunWindowCenPt</td><td>The center point of the "sunWindowCrvs" and "sunWindowMesh" geometry. It is calculated for analysisGeometry area centroid.
Use this point to move "sunWindowCrvs" and "sunWindowMesh" geometry around in the Rhino scene with the grasshopper's "Move" component.
-
Connect this output to a Grasshopper's "Point" parameter in order to preview the "annalysisPts" geometry in the Rhino scene.</td><td>Goo</td></tr>
<tr><td><b>sunWindowCrvs</b></td><td>sunWindowCrvs</td><td>Geometry of the sun window based on 3D polar sun path diagram. Perpendical curves represent solar time hours. Horizontal arc curves represent sun paths for: 21st December, 21st November/January, 21st October/February, 21st September/March, 21st August/April, 21st July/May, 21st June.
The whole sunWindowCrvs geometry output is calculated for analysisGeometry area centroid.</td><td>Goo</td></tr>
<tr><td><b>sunWindowMesh</b></td><td>sunWindowMesh</td><td>Sun window mesh based on 3D polar sun path diagram. It is calculated for analysisGeometry area centroid.
Black areas represent 100% shaded portions of the sun window (of both active and inactive quadrants). Darker green and green areas represent partially shaded portions from the coniferous and deciduous trees, respectively.
-
It is calculated ONLY if data is supplied to the "ACenergyPerHour_" input".</td><td>Goo</td></tr>
<tr><td><b>legend</b></td><td>legend</td><td>A legend of the sunWindowMesh. Connect this output to a Grasshopper's "Geo" parameter in order to preview the legend separately in the Rhino scene.</td><td>Goo</td></tr>
<tr><td><b>legendBasePt</b></td><td>legendBasePt</td><td>Legend base point, which can be used to move the "legend" geometry with grasshopper's "Move" component.
-
Connect this output to a Grasshopper's "Point" parameter in order to preview the "annalysisPts" geometry in the Rhino scene.</td><td>Goo</td></tr>
<tr><td><b>quadrantCentroids</b></td><td>quadrantCentroids</td><td>Centroid for each sun window active quadrant above the horizon.
-
Use grasshopper's "Text tag" component to visualize them.</td><td>Goo</td></tr>
<tr><td><b>quadrantShadingPercents</b></td><td>quadrantShadingPercents</td><td>Shadinging percent per each sun window active quadrant above the horizon. Active quadrants with less than 0.01% are neglected.
-
Use grasshopper's "Text tag" component to visualize them.</td><td>Goo</td></tr>
<tr><td><b>quadrantACenergyPercents</b></td><td>quadrantACenergyPercents</td><td>AC energy percent per each sun window active quadrant above the horizon.
-
Use grasshopper's "Text tag" component to visualize them.</td><td>Goo</td></tr>
<tr><td><b>hoursPositions</b></td><td>hoursPositions</td><td>Solar time hour point positions.
-
Use grasshopper's "Text tag" component to visualize them.</td><td>Goo</td></tr>
<tr><td><b>hours</b></td><td>hours</td><td>Solar time hour strings.
-
Use grasshopper's "Text tag" component to visualize them.</td><td>Goo</td></tr>
</tbody>
</table>


  </div>

</div>

            </div>
            <div id="xg_foot">
                <p class="left">
    © 2016             &nbsp; Created by <a href="http://www.grasshopper3d.com/profile/HarshGupta367/">Harsh Gupta</a> and <a href="http://www.grasshopper3d.com/profile/AndrewHeumann/">Andrew Heumann</a>. &nbsp;
    Hosted by<a href="http://www.github.com/"><img src="../../images/github.png" alt="Github" class="poweredbylogo" /></a>
	</p>
    <p class="right xg_lightfont">
                    <a href="http://www.grasshopper3d.com/main/embeddable/list">Badges</a> &nbsp;|&nbsp;
                        <a href="http://www.grasshopper3d.com/main/index/report" dojotype="PromptToJoinLink" _joinprompttext="Please sign up or sign in to complete this step." _hassignup="true" _signinurl="http://www.grasshopper3d.com/main/authorization/signIn?target=http%3A%2F%2Fwww.grasshopper3d.com%2Fmain%2Findex%2Freport">Report an Issue</a> &nbsp;|&nbsp;
                        <a href="http://www.grasshopper3d.com/main/authorization/termsOfService?previousUrl=http%3A%2F%2Fwww.grasshopper3d.com%2Fpage%2Fcomponent-reference">Terms of Service</a>
            </p>

            </div>
        </div>
        
        <div id="xj_baz17246" class="xg_theme"></div>
<div id="xg_overlay" style="display:none;">
<!--[if lte IE 6.5]><iframe></iframe><![endif]-->
</div>
<!--googleoff: all--><noscript>
	<style type="text/css" media="screen">
        #xg { position:relative;top:120px; }
        #xn_bar { top:120px; }
	</style>
	<div class="errordesc noscript">
		<div>
            <h3><strong>Hello, you need to enable JavaScript to use Grasshopper.</strong></h3>
            <p>Please check your browser settings or contact your system administrator.</p>
			
		</div>
	</div>
</noscript><!--googleon: all-->

<script src="/js/jquery.js"></script>
<script src="/js/kramed.min.js"></script>
<script src="/js/component.js"></script>
<script src="/js/user.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-78477269-1', 'auto');
  ga('send', 'pageview');

</script>
    </body>
</html>
